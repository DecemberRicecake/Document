## 测试标准   

### 一、测试环境规范    
- 主干环境：  
&emsp;进行接口和功能测试的主测环境，也是开发环境，可以频繁更新版本  
  
- 测试环境（QA）：  
&emsp;主要测合并代码后功能是否有问题，进行回归测试  
&emsp;按需求，还需要进行兼容性，系统测试（内外网联调，多个系统间的调用）  
  
- 性能与安全环境：  
&emsp;QA环境不适合做性能和安全测试，所以需要一个单独的环境  
  
- 预生产环境：  
&emsp;数据库和生产环境是一个，在不动生产数据的情况下，进行新需求以及主要流程的验证（遵循下面的《生产环境测试规范》）  
  
- 生产环境：  
&emsp;在不动生产数据的情况下，进行新需求以及主要流程的验证（遵循下面的《生产环境测试规范》）  


### 二、生产环境测试规范  
1. 回归范围   
  
    | 上线站点 | 需要回归                                                     |
    | -------- | ----------------------------------------------------------- |
    | M站      | 登录注册，各种核心页面                     |
    | APP      | release版本，登录注册认证等基本功能，升级，版本号，渠道包， 关闭Bugtags，环信聊天，推送 |  
    | PC站     | 登录注册、各种核心页面 |

2. 使用规定的测试账号测试，如果新增账号，需要在本文档备案       
&emsp;前台账号：待补充      
&emsp;后台账号：待补充      
&emsp;短信账号：待补充  
    
3. 测试完成后，需要清除测试数据，下架各种测试产品，不能影响网站显示和数据统计
    
4. 测试完成后，需要检查生产环境的error日志，并及时找开发确定是否是问题   
    
5. 生产环境测试账号不能外借给开发或产品  
    
6. 测试数据需要已‘测试’字样开头，日期结尾，例如：测试_王先生_20190319  


### 三、测试执行规范  
1. 需要按产品原型、效果图、需求文档进行测试，如有变更，要求对应产品更新文档  

2. 接口测试，需要开发提供接口文档，没有文档可以拒绝测试   

3. 数据库测试，需要开发提供数据库字段备注或数据库设计文档，没有文档可以拒绝测试    

4. 没有通过开发自测的版本，可以拒绝测试   

5. 因为共用一套开发环境，所以要求对应开发发布的时候，需要确定不影响其他测试人员的测试工作   

6. 因为共用一套数据库，所以sql语句必须要加where条件，尽量不要使用或修改别人的数据   

7. 对应功能模块的测试，不进要对这个模块负责，使用这个模块的其他功能也需要重点关注  
    

### 四、测试用例（case）规范  
1. 测试用例按使用场景划分  
&emsp;迭代用例：  
&emsp;&emsp;每个迭代需求的详情用例，非常详情  
&emsp;&emsp;用例包括功能、性能、兼容、安全等各个方面  
&emsp;&emsp;不同迭代，用例可能会有重复  
&emsp;&emsp;用例数量巨大  
  
&emsp;回归用例：  
&emsp;&emsp;只是迭代用例中功能用例的一部分，不包含性能等其他方面的用例    
&emsp;&emsp;不包含太详细的功能用例，例如边界用例，大于0，小于0的场景等等  
&emsp;&emsp;只需要正向用例，不需要反向用例（异常用例）  
&emsp;&emsp;回归用例需要经常维护，不保留历史版本，只保留最新的版本  
&emsp;&emsp;回归用例不存在重复的情况  
&emsp;&emsp;回归用例应该尽量精简，用更少的用例覆盖更多的功能  
  
&emsp;冒烟用例：  
&emsp;&emsp;冒烟用例是回归用例中，最核心的部分  
&emsp;&emsp;给开发自测的用例，一般用于测试每日构建版本  
&emsp;&emsp;用例只包含核心流程，例如登录，列表页正常显示，详情页正常显示等  
&emsp;&emsp;用例数量很少，一个开发10~20条，多了开发就不会执行了  
    
2. 一般情况下说用例，指的就是回归用例，回归用例按类型通常分为4大类   
  
    | 类型                     | 占比 |
    | ------------------------ | ---- |
    | 功能（正常、异常、规格） | 70%  |
    | 性能                     | 10%  |
    | 安全                     | 10%  |
    | 兼容性                   | 10%  |

3. 测试用例要素  
    ①用例编号   
    ②一、二、三级功能分类   
    ③用例等级（优先级）LV0~LV3   
    ④用例标题  
    ⑤用例描述  
    ⑥测试步骤  
    ⑦预期  
    ⑧测试结果  
    ⑨编写人、备注、前置条件、后置条件等  
        

### 五、缺陷（bug）规范   
1. 所有的bug都必须记录到TFS或Bugtags，包括发布失败、环境配置不对这样的问题    
    
2. 缺陷要素  
    
    | 要素             | 说明                                                         |
    | ---------------- | ------------------------------------------------------------ |
    | 版本             | 是在哪一个迭代发现的缺陷                                     |
    | 一、二、三级功能 | 属于哪一个平台，哪一个项目下的哪一个功能                     |
    | 严重性           | 严重、高、中、低                                             |
    | 优先级           | 1~4                                                          |
    | 缺陷标题         | 一句话标题                                                   |
    | 内容             | 系统信息、操作步骤、截图、录像、日志、初步定位结论           |
    | 提交人           | 提交缺陷的测试人员                                           |
    | 处理人           | 指定处理的开发人员                                           |
    | 缺陷状态         | 活动、已解决、已关闭                                       |
    | 是否能重现       | 必现、有概率能重现                                           |
    | 缺陷分类         | 比测试用例分类要多，具体有文档、功能、性能、安全、兼容性、易用性、部署等 |
    | 问题引入原因     | 修改继承功能代码引入、历史版本遗留、新需求                   |

3. 验证不通过的bug，应该返回给开发，并在缺陷中备注   
    
4. 不允许开发自己降低bug的严重性，经过测试和开发沟通后，严重性级别由测试人员进行修改  
    
5. 对于有概率出现，并且开发没能解决的缺陷，每经过一个迭代或一个月，降低一个严重性级别，最后关闭缺陷  
        例如：迭代三种出现了一个高级别的缺陷，下一个版本上线时都没有出现过，就降低为中级别   
    
6. 缺陷严重级别定义  
  
    | 类型     | 举例                                             | 严重 | 高   | 中   | 低   |
    | -------- | ------------------------------------------------ | ---- | ---- | ---- | ---- |
    | 功能类   | 软件崩溃、死机、400系列、500系列                 | √    |      |      |      |
    |          | 功能与需求不一致，实现0-50%                      | √    |      |      |      |
    |          | 功能与需求不一致，实现51%-80%                    |      | √    |      |      |
    |          | 功能与需求不一致，实现81%-99%                    |      |      | √    |      |
    |          | 数据丢失                                         |      | √    |      |      |
    |          | 边界值未做限制                                   |      | √    |      |      |
    |          | 公司名称、软件名称、版权、版本文本、logo错误     | √    |      |      |      |
    |          | 不做操作就能发现的文字、颜色、图形错误           |      | √    |      |      |
    |          | 需要一步操作才能发现的文字、颜色、图形错误       |      |      | √    |      |
    |          | 需要两步及以上操作才能发现的文字、颜色、图形错误 |      |      |      | √    |
    | 性能类   | 内存泄漏                                         | √    |      |      |      |
    |          | 电脑资源使用过高                                 |      | √    |      |      |
    |          | 长时间事务处理，无提示                           |      |      | √    |      |
    |          | 并发失败                                         |      | √    |      |      |
    | 文档类   | 设计文档不正确                                   |      | √    |      |      |
    |          | 产品说明文档不正确                               |      |      | √    |      |
    | 易用性类 | 提示信息不正确                                   |      |      |      | √    |
    |          | 必填信息无提示                                   |      |      | √    |      |
    |          | 必要操作无提示信息                               |      | √    |      |      |
    | 安全类   | 一般用户正常使用就能发现的软件漏洞               |      | √    |      |      |
    |          | 程序员深入分析后才能发现的软件漏洞               |      | √    |      |      |
    |          | 用户权限问题                                     |      | √    |      |      |
    | 部署类   | 发布失败                                         |      | √    |      |      |
    | 兼容类   | 不兼容多种浏览器、手机、分辨率                   |      |      | √    |      |

7. 缺陷优先级定义  
    优先级暂时按严重级别划分，从严重到低，划分为1~4  
        

### 六、兼容性测试规范：  
1. 浏览器兼容（UC浏览器不能在测试环境使用，在生产环境测试阶段验证）  

    | 兼容性  |  测试支持                                                     |
    | ------- |  ------------------------------------------------------------ |
    | PC      |  chrome:68.0<br/>firefox:64.0                                 |
    | IOS     | Safari:12.1.1<br/>chrome:71.0 (Ios11.2.6)                    |
    | Android |  chrome:71.0   (xiaomi5 android7.0)<br/>UC:V12.3 (oppoA57 android6.0) |
    
2. APP兼容（暂时按现有手机品牌和型号）  
    - 兼容不同的厂商手机  
    - 兼容不同的系统版本（最新版本必须验证）  

  3. 分辨率兼容  
    - 网页使用chrome调整分辨率测试  
    - APP使用模拟器测试  
 

### 七、性能测试规范：  
  
| 分类     | 要求                                                    |
| -------- | ------------------------------------------------------- |
| 接口性能 | 响应时间小于1000ms                                      |
|          | 请求成功率大于99%                                       |
|          | 在TPS正常幅度的情况下资源使用率幅度平稳，服务器状态平稳 |
|          | 接口在使用过程中不会造成数据库死锁                      |
|          | 接口在使用过程中不会出现大量的计算                      |
|          | 接口在使用过程中不会出现内存大量消耗                    |
| 页面性能 | 页面响应时间小于3s                                      |
|          | 页面大小小于500KB                                       |
|          | 缓存CSS,JS,img等文件                                    |
|          | CSS样式置顶，JS脚本置底                                 |
|          | 对于传输文件进行gzip压缩                                |
|          | JS和CSS压缩和精简                                       |

### 八、性能测试规范：  
    1. http使用SSL证书加密  
    
    2. 传输数据进行加密  
    
    3. Javascript混淆压缩，降低可读性  
    
    4. 防止SQL注入、XSS超脚本攻击  
    
    5. cookies中数据需要加密  
    
    6. 密码需要特殊加密  
    
    
### 九、上线规范：      
    1. 需求文档中的功能都已实现  
    
    2. 测试用例执行率达到100%  
    
    3. 严重和高级别的缺陷修复率应达到100%，  
        中级别缺陷修复率达到90%，  
        低级别缺陷修复率达到60%  
    
    4. 性能指标已达标   
    
    5. 无明显安全问题   
    
    6. 兼容性已达标   
    
    7. 代码覆盖率达80%（暂时没统计覆盖率）   
    
    8. 需求方验收通过，同意上线   
    
    
### 十、自动化规范（待续）  
- UI自动化规范   
    
- 接口自动化规范   

### 十一、测试文档规范（待续）  
    
